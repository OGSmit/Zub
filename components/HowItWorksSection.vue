<template>
  <section id="how-it-works" class="section">
    <div class="container">
      <h2 class="section__title">
        –ö–∞–∫ –ø—Ä–æ—Ö–æ–¥—è—Ç <span class="section__title--highlight">–ó—É–±–¢—É—Ä</span>
      </h2>
      <div class="how-it-works__cards">
        <div class="how-it-works__card"  >
          <!-- <div class="how-it-works__badge">–°–∞–º—ã–π –ø–æ–ø—É–ª—è—Ä–Ω—ã–π</div> -->
          <div class="how-it-works__icon">
            <!-- –ò–∫–æ–Ω–∫–∞ –ø–∞–ª—å–º—ã –∏ —Å–Ω–µ–∂–∏–Ω–∫–∏ -->
            <div class="icon-placeholder">üå¥‚ùÑÔ∏è</div>
          </div>
          <h3 class="how-it-works__card-title">–ü–æ–µ–∑–¥–∫–∞ –∏ –ª–µ—á–µ–Ω–∏–µ</h3>
          <p class="how-it-works__card-text">
            –ü–æ–ª–µ—Ç–∏—Ç–µ –≤ –ù—è—á–∞–Ω–≥, –≥–¥–µ –≤–∞—Å –≤—Å—Ç—Ä–µ—Ç–∏—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä
          </p>
        </div>

        <div class="how-it-works__card" @click="openNhaTrangModal">
          <div class="how-it-works__icon">
            <!-- –ò–∫–æ–Ω–∫–∞ –ø–∞–ª—å–º—ã –∏ –∫–æ–∫–æ—Å–∞ -->
            <div class="icon-placeholder">üå¥ü••</div>
          </div>
          <h3 class="how-it-works__card-title">–û—Ç–¥—ã—Ö –≤ –ù—è—á–∞–Ω–≥–µ</h3>
          <p class="how-it-works__card-text">
            –ü–æ—Å–ª–µ –ª–µ—á–µ–Ω–∏—è –Ω–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å –º–æ—Ä–µ–º –∏ —ç–∫—Å–∫—É—Ä—Å–∏—è–º–∏
          </p>
        </div>
         
        <div class="how-it-works__card" @click="openTariffModal">
          <div class="how-it-works__icon">
            <!-- –ò–∫–æ–Ω–∫–∞ –∑—É–±–∞ —Å —á–∞—Ç–æ–º -->
            <div class="icon-placeholder">üí¨ü¶∑</div>
          </div>
          <h3 class="how-it-works__card-title">–¢–∞—Ä–∏—Ñ—ã</h3>
          <p class="how-it-works__card-text">
            –¢–∞—Ä–∏—Ñ—ã
          </p>
        </div>

        <div class="how-it-works__card" @click="openPatientFormModal">
          <div class="how-it-works__icon">
            <!-- –ò–∫–æ–Ω–∫–∞ –∑—É–±–∞ —Å —á–∞—Ç–æ–º -->
            <div class="icon-placeholder">üí¨ü¶∑</div>
          </div>
          <h3 class="how-it-works__card-title">–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –ª–µ—á–µ–Ω–∏—è</h3>
          <p class="how-it-works__card-text">
            –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∞–Ω–∫–µ—Ç—É –¥–ª—è –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Ä–∞—Å—á—ë—Ç–∞
          </p>
        </div>

        <div class="how-it-works__card" @click="openTariffModal">
          <div class="how-it-works__icon">
            <!-- –ò–∫–æ–Ω–∫–∞ –∑—É–±–∞ —Å —á–∞—Ç–æ–º -->
            <div class="icon-placeholder">üí¨ü¶∑</div>
          </div>
          <h3 class="how-it-works__card-title">–ó–∞–≥–ª—É—à–∫–∞</h3>
          <p class="how-it-works__card-text">
            –¢–∞—Ä–∏—Ñ—ã
          </p>
        </div>

        <div class="how-it-works__card">
          <div class="how-it-works__icon">
            <!-- –ò–∫–æ–Ω–∫–∞ –ø–∞–ª—å–º—ã –∏ –∫–æ–∫–æ—Å–∞ -->
            <div class="icon-placeholder">üå¥ü••</div>
          </div>
          <h3 class="how-it-works__card-title">–ö–ª–∏–Ω–∏–∫–∞-–ø–∞—Ä—Ç–Ω–µ—Ä</h3>
          <p class="how-it-works__card-text">
            –ö–ª–∏–Ω–∏–∫–∞
          </p>
        </div>
      </div>
      
 
      <div class="how-it-works__cta">
        <button class="btn btn--secondary" @click="openTariffModal">
          –ü–æ–¥–æ–±—Ä–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç –ó—É–±–¢—É—Ä–∞ >
        </button>
      </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –≤—ã–±–æ—Ä–æ–º —Ç–∞—Ä–∏—Ñ–∞ -->
    <Modal v-model="isTariffModalOpen" size="full">
      <TariffSelectionModal />
    </Modal>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å —Ñ–æ—Ä–º–æ–π –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ -->
    <Modal v-model="isConsultationModalOpen" size="large">
      <ConsultationModal />
    </Modal>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ù—è—á–∞–Ω–≥–µ -->
    <Modal v-model="isNhaTrangModalOpen" size="large">
      <div class="nha-trang-modal">
        <h2 class="nha-trang-modal__title">üå¥ –û—Ç–¥—ã—Ö –≤ –ù—è—á–∞–Ω–≥–µ ‚Äî –±–æ–ª—å—à–µ, —á–µ–º –ø—Ä–æ—Å—Ç–æ –ª–µ—á–µ–Ω–∏–µ</h2>
        <p class="nha-trang-modal__intro">
          –ù—è—á–∞–Ω–≥ ‚Äî –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö –∫–æ–º—Ñ–æ—Ä—Ç–Ω—ã—Ö –∫—É—Ä–æ—Ä—Ç–æ–≤ –í—å–µ—Ç–Ω–∞–º–∞,
          –≥–¥–µ –ª–µ—á–µ–Ω–∏–µ –∑—É–±–æ–≤ –ª–µ–≥–∫–æ —Å–æ–≤–º–µ—â–∞–µ—Ç—Å—è —Å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–º –æ—Ç–¥—ã—Ö–æ–º.
        </p>
        
        <h3 class="nha-trang-modal__subtitle">–ü–æ—á–µ–º—É —Ç—É—Ä–∏—Å—Ç—ã –≤—ã–±–∏—Ä–∞—é—Ç –ù—è—á–∞–Ω–≥:</h3>
        
        <div class="nha-trang-modal__section">
          <h4 class="nha-trang-modal__section-title">‚òÄÔ∏è –ú–æ—Ä–µ –∏ –∫–ª–∏–º–∞—Ç –∫—Ä—É–≥–ª—ã–π –≥–æ–¥</h4>
          <p class="nha-trang-modal__section-text">
            –¢—ë–ø–ª–æ–µ –º–æ—Ä–µ, –º—è–≥–∫–∏–π –∫–ª–∏–º–∞—Ç –∏ —Å–æ–ª–Ω–µ—á–Ω—ã–µ –¥–Ω–∏ –ø–æ—á—Ç–∏ –≤–µ—Å—å –≥–æ–¥.
            –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ –ª–µ—á–µ–Ω–∏—è –∏ —Ä–∞—Å—Å–ª–∞–±–ª–µ–Ω–Ω–æ–≥–æ –æ—Ç–¥—ã—Ö–∞.
          </p>
        </div>

        <div class="nha-trang-modal__section">
          <h4 class="nha-trang-modal__section-title">üèñ –ß–∏—Å—Ç—ã–µ –ø–ª—è–∂–∏ –∏ –∫—É—Ä–æ—Ä—Ç–Ω–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞</h4>
          <p class="nha-trang-modal__section-text">
            –î–ª–∏–Ω–Ω–∞—è –±–µ—Ä–µ–≥–æ–≤–∞—è –ª–∏–Ω–∏—è, —É—Ö–æ–∂–µ–Ω–Ω—ã–µ –≥–æ—Ä–æ–¥—Å–∫–∏–µ –ø–ª—è–∂–∏ –∏ –æ—Å—Ç—Ä–æ–≤–∞
            –≤—Å–µ–≥–æ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–∏–Ω—É—Ç–∞—Ö –æ—Ç —Ü–µ–Ω—Ç—Ä–∞.
          </p>
        </div>

        <div class="nha-trang-modal__section">
          <h4 class="nha-trang-modal__section-title">üßò –°–ø–æ–∫–æ–π–Ω—ã–π —Ä–∏—Ç–º –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ</h4>
          <p class="nha-trang-modal__section-text">
            –ù—è—á–∞–Ω–≥ ‚Äî –Ω–µ —à—É–º–Ω—ã–π –º–µ–≥–∞–ø–æ–ª–∏—Å.
            –ó–¥–µ—Å—å –ª–µ–≥–∫–æ –æ—Ç–¥—ã—Ö–∞—Ç—å –±–µ–∑ —Å—É–µ—Ç—ã, –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è –∏ —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å —Å–µ–±—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ.
          </p>
        </div>

        <div class="nha-trang-modal__section">
          <h4 class="nha-trang-modal__section-title">üö§ –≠–∫—Å–∫—É—Ä—Å–∏–∏ –∏ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏—è</h4>
          <p class="nha-trang-modal__section-text">
            –û—Å—Ç—Ä–æ–≤–∞, —Å–Ω–æ—Ä–∫–ª–∏–Ω–≥, –≤–æ–¥–æ–ø–∞–¥—ã, –≥—Ä—è–∑–µ–≤—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏,
            –∫–∞–Ω–∞—Ç–Ω–∞—è –¥–æ—Ä–æ–≥–∞, –ø–∞–≥–æ–¥—ã –∏ –º–æ—Ä—Å–∫–∏–µ –ø—Ä–æ–≥—É–ª–∫–∏ ‚Äî
            –æ—Ç–¥—ã—Ö –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–º –∏–ª–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —Ä–∞—Å—Å–ª–∞–±–ª–µ–Ω–Ω—ã–º.
          </p>
        </div>

        <div class="nha-trang-modal__section">
          <h4 class="nha-trang-modal__section-title">üçú –í—å–µ—Ç–Ω–∞–º—Å–∫–∞—è –∫—É—Ö–Ω—è –∏ –º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã</h4>
          <p class="nha-trang-modal__section-text">
            –°–≤–µ–∂–∏–µ –º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã, —Ñ—Ä—É–∫—Ç—ã, –ª–æ–∫–∞–ª—å–Ω–∞—è –∏ –µ–≤—Ä–æ–ø–µ–π—Å–∫–∞—è –∫—É—Ö–Ω—è.
            –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–∞–∂–µ —Ç–µ–º, –∫—Ç–æ –æ—Å—Ç–æ—Ä–æ–∂–µ–Ω —Å –ø–∏—Ç–∞–Ω–∏–µ–º –ø–æ—Å–ª–µ –ª–µ—á–µ–Ω–∏—è.
          </p>
        </div>

        <div class="nha-trang-modal__section">
          <h4 class="nha-trang-modal__section-title">üíÜ –°–ü–ê –∏ —Ç–µ—Ä–º–∞–ª—å–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏</h4>
          <p class="nha-trang-modal__section-text">
            –ì—Ä—è–∑–µ–≤—ã–µ –≤–∞–Ω–Ω—ã, –º–∞—Å—Å–∞–∂–∏ –∏ –°–ü–ê-–ø—Ä–æ—Ü–µ–¥—É—Ä—ã
            –ø–æ–º–æ–≥–∞—é—Ç —Å–Ω—è—Ç—å –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ –∏ —É—Å–∫–æ—Ä—è—é—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.
          </p>
        </div>

        <div class="nha-trang-modal__section">
          <h4 class="nha-trang-modal__section-title">üó£ –ö–æ–º—Ñ–æ—Ä—Ç –¥–ª—è —Ç—É—Ä–∏—Å—Ç–æ–≤ –∏–∑ –°–ù–ì</h4>
          <p class="nha-trang-modal__section-text">
            –†—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã–µ –≥–∏–¥—ã, –º–µ–Ω—é, —ç–∫—Å–∫—É—Ä—Å–∏–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞.
            –í—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ —Å–µ–±—è —É–≤–µ—Ä–µ–Ω–Ω–æ –∏ —Å–ø–æ–∫–æ–π–Ω–æ.
          </p>
        </div>

        <div class="nha-trang-modal__section">
          <h4 class="nha-trang-modal__section-title">‚ú® –ò–¥–µ–∞–ª—å–Ω–æ–µ —Å–æ—á–µ—Ç–∞–Ω–∏–µ</h4>
          <p class="nha-trang-modal__section-text">
            –í—ã –ª–µ—á–∏—Ç–µ –∑—É–±—ã ‚Äî –æ—Ç–¥—ã—Ö–∞–µ—Ç–µ —É –º–æ—Ä—è –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç–µ—Å—å —Å –Ω–æ–≤–æ–π —É–ª—ã–±–∫–æ–π.
          </p>
        </div>
      </div>
    </Modal>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å —Ñ–æ—Ä–º–æ–π –∞–Ω–∫–µ—Ç—ã –ø–∞—Ü–∏–µ–Ω—Ç–∞ -->
    <Modal v-model="isPatientFormModalOpen" size="full">
      <PatientFormModal />
    </Modal>
  </section>
</template>

<script setup lang="ts">
import { ref } from 'vue'

const isTariffModalOpen = ref(false)
const isConsultationModalOpen = ref(false)
const isNhaTrangModalOpen = ref(false)
const isPatientFormModalOpen = ref(false)

const openTariffModal = () => {
  isTariffModalOpen.value = true
}

const openConsultationModal = () => {
  isConsultationModalOpen.value = true
}

const openNhaTrangModal = () => {
  isNhaTrangModalOpen.value = true
}

const openPatientFormModal = () => {
  isPatientFormModalOpen.value = true
}
</script>

<style scoped lang="scss">
.how-it-works {
  &__cards {
    display: grid;
    grid-template-columns: 1fr;
    gap: 32px;
    margin-bottom: 40px;

    @include tablet {
      grid-template-columns: repeat(2, 1fr);
    }

    @include desktop {
      grid-template-columns: repeat(3, 1fr);
      gap: 40px;
      margin-bottom: 60px;
    }
  }

  &__card {
    background: $white;
    border-radius: 16px;
    padding: 32px 24px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    position: relative;
    text-align: center;
    cursor: pointer;

    &:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
    }
  }

  &__badge {
    position: absolute;
    top: -12px;
    left: 50%;
    transform: translateX(-50%);
    background-color: $accent-color;
    color: $white;
    padding: 6px 16px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: 600;
  }

  &__icon {
    width: 80px;
    height: 80px;
    margin: 0 auto 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, #E3F2FD 0%, #BBDEFB 100%);
    border-radius: 50%;
  }

  &__card-title {
    font-size: 22px;
    font-weight: 700;
    margin-bottom: 16px;
    color: $text-dark;
  }

  &__card-text {
    font-size: 16px;
    color: $text-light;
    line-height: 1.6;
  }

  &__cta {
    text-align: center;
  }
}

.icon-placeholder {
  font-size: 32px;
}

.nha-trang-modal {
  &__title {
    font-size: 28px;
    font-weight: 700;
    color: $text-dark;
    margin-bottom: 20px;
    line-height: 1.3;

    @include mobile {
      font-size: 24px;
    }
  }

  &__intro {
    font-size: 18px;
    color: $text-dark;
    margin-bottom: 32px;
    line-height: 1.6;

    @include mobile {
      font-size: 16px;
      margin-bottom: 24px;
    }
  }

  &__subtitle {
    font-size: 22px;
    font-weight: 700;
    color: $text-dark;
    margin-bottom: 24px;

    @include mobile {
      font-size: 20px;
      margin-bottom: 20px;
    }
  }

  &__section {
    margin-bottom: 24px;

    @include mobile {
      margin-bottom: 20px;
    }
  }

  &__section-title {
    font-size: 18px;
    font-weight: 600;
    color: $text-dark;
    margin-bottom: 8px;
    line-height: 1.4;

    @include mobile {
      font-size: 16px;
    }
  }

  &__section-text {
    font-size: 16px;
    color: $text-light;
    line-height: 1.6;
    margin: 0;

    @include mobile {
      font-size: 14px;
    }
  }
}
</style>
